<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Post a Job | Side Hustle Hub</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- ===== HEADER ===== -->
  <header>
    <div class="container header-container">
      <div class="logo">
        <h1><i class="ri-briefcase-line"></i> Side Hustle Hub</h1>
      </div>
      <nav class="nav-desktop">
        <a href="index.html">Home</a>
        <a href="findwork.html">Find Work</a>
        <a href="postajob.html" class="active">Post a Job</a>
      </nav>
      <div class="auth-buttons">
        <a href="signup.html" class="btn-signup"><i class="ri-user-add-line"></i> Sign Up</a>
        <a href="login.html" class="btn-signin"><i class="ri-login-box-line"></i> Login</a>
      </div>
      <div class="hamburger"><i class="ri-menu-line"></i></div>
    </div>
  </header>

  <!-- ===== POST JOB FORM ===== -->
  <section class="form-section">
    <h2>Post a New Job</h2>
    <form id="postjob-form" class="postjob-form">
      <label for="jobTitle">Job Title</label>
      <input type="text" id="jobTitle" name="jobTitle" placeholder="e.g., Graphic Design Task" required />

      <label for="jobDescription">Job Description</label>
      <textarea id="jobDescription" name="jobDescription" placeholder="Describe the task..." rows="5" required></textarea>

      <label for="skills">Required Skills</label>
      <input type="text" id="skills" name="skills" placeholder="e.g., Photoshop, Video Editing" required />

      <label for="location">Location</label>
      <input type="text" id="location" name="location" placeholder="City / Town" required />

      <label for="budget">Budget (ZAR)</label>
      <input type="number" id="budget" name="budget" placeholder="e.g., 500" required />

      <button type="submit" class="btn">Post Job</button>
      <p>Go back to <a href="dashboard.html">Dashboard</a></p>
    </form>
  </section>

  <script>
  // Select the form element by its ID
  document.getElementById("postjob-form").addEventListener("submit", function(e) {
  // Prevent the default form submission (page reload)
  e.preventDefault();

  // Get input values from the form
  const title = document.querySelector('input[name="title"]').value;
  const description = document.querySelector('textarea[name="description"]').value;
  const budget = document.querySelector('input[name="budget"]').value;

  // Validate that all fields are filled
  if (!title || !description || !budget) {
    alert("Please fill in all fields!");
    return; // Stop the function if validation fails
  }

  // Retrieve existing jobs from localStorage or start with an empty array
  const jobs = JSON.parse(localStorage.getItem("jobs") || "[]");

  // Add a new job object to the array
  jobs.push({
    title: title,                        // Job title from form
    description: description,            // Job description from form
    budget: budget,                      // Job budget from form
    postedBy: localStorage.getItem("userName") || "Anonymous", // Name of user posting
    date: new Date().toLocaleString()    // Timestamp of job posting
  });

    // Save the updated jobs array back to localStorage
    localStorage.setItem("jobs", JSON.stringify(jobs));

    // Notify the user that the job was posted successfully
    alert("Job posted successfully!");

    // Reset the form so fields are cleared for next input
    document.getElementById("postjob-form").reset();
});
    // Form submission
    document.getElementById("postjob-form").addEventListener("submit", function(e) {
      e.preventDefault();

      // Capture form values
      const jobTitle = document.getElementById("jobTitle").value;
      const jobDescription = document.getElementById("jobDescription").value;
      const skills = document.getElementById("skills").value;
      const location = document.getElementById("location").value;
      const budget = document.getElementById("budget").value;

      // Here you can save to database or localStorage (mock)
      const job = { jobTitle, jobDescription, skills, location, budget };
      let jobs = JSON.parse(localStorage.getItem("jobs")) || [];
      jobs.push(job);
      localStorage.setItem("jobs", JSON.stringify(jobs));

      alert("Job posted successfully!");
      this.reset();
    });

    // Hamburger toggle
    const hamburger = document.querySelector('.hamburger');
    const mobileMenu = document.querySelector('.mobile-menu');
    hamburger.addEventListener('click', () => {
      mobileMenu.classList.toggle('active');
    });
  </script>
</body>
</html>
