<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login | Side Hustle Hub</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="container header-container">  
      <div class="logo">  
        <h1><i class="ri-briefcase-line"></i> Side Hustle Hub</h1>
      </div>
      <nav class="nav-desktop">
        <a href="index.html">Home</a>
        <a href="findwork.html">Find Work</a>
        <a href="postajob.html">Post Job</a>
      </nav>
    </div>
  </header>

  <!-- LOGIN FORM -->
  <section class="form-section">
    <h2>Welcome Back</h2>
    <form id="signin-form" class="login-form">
      <input type="email" name="email" placeholder="Email Address" required />
      <input type="password" name="password" placeholder="Password" required />
      <button type="submit" class="btn">Sign In</button>
      <p>Donâ€™t have an account? <a href="signup.html">Sign Up</a></p>
    </form>
  </section>

  <!-- SCRIPT -->
  <script>
    const form = document.getElementById("signin-form");

    form.addEventListener("submit", function(e) {
      e.preventDefault();

      // Get the user's email
      const email = form.email.value.trim();
      const name = email.split("@")[0]; // use email prefix as name

      // Store in localStorage for dashboard
      localStorage.setItem("userName", name);

      alert(`Welcome back, ${name}! Redirecting to your dashboard...`);
      window.location.href = "dashboard.html";
    });

      // Select the login form by its ID and attach a submit event listener
  document.getElementById("signin-form").addEventListener("submit", function(e) {
    // Prevent the default form submission (page reload)
    e.preventDefault();

    // Get the value entered in the email input field
    const email = document.querySelector('input[name="email"]').value;

    // Extract the prefix of the email (everything before '@') to use as a username
    const name = email.split("@")[0];

    // Store the username in localStorage so it can be used on other pages
    localStorage.setItem("userName", name);

    // Notify the user that login was successful
    alert("Welcome back! Redirecting to your dashboard...");

    // Redirect the user to the dashboard page
    window.location.href = "dashboard.html";
  });

  // Optional standalone login function (not used by current form)
  // This function is meant to handle login if called separately
  function login() {
    const name = document.getElementById("name").value; // Get the user's name
    if(name) {
      localStorage.setItem("userName", name); // Store in localStorage
      window.location.href = "dashboard.html"; // Redirect to dashboard
    }
  }
  </script>
</body>
</html>
